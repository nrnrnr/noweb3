<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>4.4 Statements</TITLE>
</HEAD>
<BODY LANG="EN">
 <HR>
<B> Next:</B> <A HREF="node9.html">4.5 Expressions</A>
<B>Up:</B> <A HREF="node4.html">4 The Language</A>
<B> Previous:</B> <A HREF="node7.html">4.3 Adjustment</A>
<HR>
<H2><A NAME="S440">4.4 Statements</A></H2>
<P>
Lua supports an almost conventional set of statements<A NAME="748"></A>.
The conventional commands include
assignment, control structures and procedure calls.
Non-conventional commands include table constructors
(Section&nbsp;<A HREF="node9.html#tableconstructor">4.5.7</A>),
and local variable declarations (Section&nbsp;<A HREF="node8.html#localvar">4.4.5</A>).
<P>
<H3><A NAME="S441">4.4.1 Blocks</A></H3>
<P>
A block<A NAME="749"></A> is a list of statements, which is executed sequentially.
Any statement can be optionally followed by a semicolon:
<B><PRE>
blockstat sc ret
sc;
</PRE></B>For syntactic reasons, a <TT><B>return</B></TT><A NAME="751"></A> statement can only be written
as the last statement of a block.
This restriction also avoids some ``statement not reached'' errors.
<P>
<A NAME="752"></A><H3><A NAME="S442">4.4.2 Assignment</A></H3>
 <A NAME="assignment"></A>
The language allows multiple assignment<A NAME="753"></A>.
Therefore, the syntax defines a list of variables on the left side,
and a list of expressions on the right side.
Both lists have their elements separated by commas:
<B><PRE>
statvarlist1 = explist1
varlist1var , var
</PRE></B>This statement first evaluates all values on the right side
and eventual indices on the left side,
and then makes the assignments.
Therefore, it can be used to exchange two values, as in
<B><PRE>   x, y = y, x</PRE></B>
Before the assignment, the list of values is <I>adjusted</I> to
the length of the list of variables (see Section&nbsp;<A HREF="node7.html#adjust">4.3</A>).
<P>
A single name can denote a global or a local variable,
or a formal parameter:
<B><PRE>
varname
</PRE></B>Square brackets are used to index a table:
<B><PRE>
varvar [ exp1 ]
</PRE></B>If <TT><B>var</B></TT> results in a table value,
the field indexed by the expression value gets the assigned value.
Otherwise, the fallback <I>settable</I> is called,
with three parameters: the value of <TT><B>var</B></TT>,
the value of expression, and the value being assigned to it;
see Section&nbsp;<A HREF="node11.html#fallback">4.7</A>.
<P>
The syntax <TT><B>var.NAME</B></TT> is just syntactic sugar for
<TT><B>var["NAME"]</B></TT>.
<B><PRE>
varvar . name
</PRE></B>
<H3><A NAME="S443">4.4.3 Control Structures</A></H3>
<P>
The condition expression<A NAME="756"></A> of a control structure can return any value.
All values different from <B>nil</B> are considered true;
<B>nil</B> is considered false.
<TT><B>if</B></TT>'s, <TT><B>while</B></TT>'s and <TT><B>repeat</B></TT>'s have the usual meaning.
<P>
<A NAME="132"></A><A NAME="133"></A><A NAME="134"></A>
<B><PRE>
statwhile exp1 do block end 
repeat block until exp1 
if exp1 then block elseif
   else block end
elseifelseif exp1 then block
</PRE></B>
<P>
A <TT><B>return</B></TT> is used to return values from a function or a chunk.
<A NAME="return"></A>
Because they may return more than one value,
the syntax for a return statement<A NAME="759"></A> is:
<B><PRE>
retreturn explist sc
</PRE></B>
<P>
<H3><A NAME="S444">4.4.4 Function Calls as Statements</A></H3>
 <A NAME="funcstat"></A>
Because of possible side-effects,
function calls can be executed as statements:
<B><PRE>
statfunctioncall
</PRE></B>Eventual returned values are thrown away.
Function calls are explained in Section <A HREF="node9.html#functioncall">4.5.8</A>.
<P>
<H3><A NAME="S445">4.4.5 Local Declarations</A></H3>
 <A NAME="localvar"></A>
Local variables<A NAME="760"></A> can be declared anywhere inside a block.
Their scope begins after the declaration and lasts until the
end of the block.
The declaration may include an initial assignment:
<B><PRE>
statlocal declist init
declistname , name
init= explist1
</PRE></B>If present, an initial assignment has the same semantics
of a multiple assignment.
Otherwise, all variables are initialized with <B>nil</B>.
<P>
<HR>
<B> Next:</B> <A HREF="node9.html">4.5 Expressions</A>
<B>Up:</B> <A HREF="node4.html">4 The Language</A>
<B> Previous:</B> <A HREF="node7.html">4.3 Adjustment</A>
<HR>
</BODY>
